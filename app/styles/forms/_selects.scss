select {
  @include form-input;
}

@mixin select2-choices {
  .select2-choice, .select2-choices {
    background: $off-white;
    border: none;
    border-bottom: $input-border-bottom solid $extra-light-grey;
    border-radius: $base-border-radius;
    height: $base-input-height;
    line-height: $base-input-height;
  }
}

nop-select {
  @include span-columns(12);
}

@include media($desktop) {
  nop-select {
    @include span-columns($main-content-columns/2);
  }
}

nop-select {
  position: relative;
  margin-bottom: $base-input-margin-bottom;

  .errors {
    color: $error-red;
  }

  .select2-container-active {
    ~ .highlight {
      transform: scaleX(1);
    }
  }

  .highlight {
    display: block;
    position: absolute;
    bottom: 0px;
    height: 3px;
    width: 100%;
    background-color: $highlight-color;
    transform: scaleX(0);
    transition: transform $base-transition-duration $base-transition-easing;
  }

  .select2-container {
    width: 100%;

    .select2-choice {
      .select2-arrow {
        border: none;
        background: transparent;
        top: 10px;

        b {
          transform: scale(2);
        }
      }
    }

    @include select2-choices;

    &.select2-dropdown-open.select2-drop-above {
      @include select2-choices;
    }

    &.select2-container-active {
      .select2-choice, .select2-choices {
        box-shadow: none;
        border: none;
      }
    }

    .select2-chosen {
      @include form-input;
    }
  }

  .select2-container-multi {
    $select-choice-height: $base-input-height * 0.7;

    .select2-choices {
      .select2-search-choice {
        height: $select-choice-height;
        line-height: $select-choice-height - 5px;
        font-weight: $base-font-weight;
        width: 98%;
        background: $primary-color;
        color: $white;
        border: none;
      }
    }
  }
}

.select2-search {
  input {
    height: $base-input-height !important;
  }
}

.select2-results {
  $border-width: 5px;

  .select2-result {
    border-left: $border-width solid transparent;
    padding: 3px;
    font-size: $select-font-size;
    border-bottom: $input-border-bottom solid $extra-light-grey;

    &.select2-highlighted {
      background: $white;
      color: black;
      border-left: $border-width solid $highlight-color;
    }

    &:last-child {
      border-bottom: none;
    }
  }
}

.select2-drop {
  @include form-input;

  .select2-input {
    background: $white;
  }

  &.select2-drop-active {
    &.select2-drop-above {
      border: none;
      border-radius: $base-border-radius;
    }
    border: none;
    border-radius: $base-border-radius;
  }
}
